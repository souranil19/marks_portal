{% extends 'base.html' %}
{% load static %}

{% block title %}Gallery - {{ block.super }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'test.css' %}">
<style>
    /* Custom styles to match the home page theme */
    .hero-gallery {
        background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
        color: white;
        padding: 100px 0 80px;
        position: relative;
        overflow: hidden;
    }
    
    .hero-gallery::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('{% static "2.jpg" %}') center/cover;
        opacity: 0.1;
        z-index: 1;
    }
    
    .hero-gallery .container {
        position: relative;
        z-index: 2;
    }
    
    .gallery-item {
        position: relative;
        overflow: hidden;
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-md);
        transition: var(--transition-all);
        cursor: pointer;
        height: 250px;
        background: var(--gray-200);
    }
    
    .gallery-item:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-xl);
    }
    
    .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: var(--transition-all);
    }
    
    .gallery-item:hover img {
        transform: scale(1.05);
    }
    
    .gallery-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.8) 100%);
        opacity: 0;
        transition: var(--transition-all);
        display: flex;
        align-items: end;
        padding: 1.5rem;
    }
    
    .gallery-item:hover .gallery-overlay {
        opacity: 1;
    }
    
    .gallery-info h5 {
        color: white;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .gallery-info p {
        color: rgba(255,255,255,0.8);
        font-size: 0.875rem;
        margin: 0;
    }
    
    .filter-tabs {
        background: white;
        border-radius: var(--border-radius-lg);
        padding: 1rem;
        box-shadow: var(--shadow-md);
        margin-bottom: 3rem;
    }
    
    .filter-tabs .nav-pills .nav-link {
        color: var(--gray-600);
        border-radius: 50px;
        padding: 0.75rem 1.5rem;
        margin: 0 0.25rem;
        font-weight: 500;
        transition: var(--transition-all);
    }
    
    .filter-tabs .nav-pills .nav-link.active {
        background: var(--primary-blue);
        color: white;
    }
    
    .stats-section {
        background: var(--gray-50);
        padding: 60px 0;
    }
    
    .section-title {
        color: var(--gray-900);
        font-weight: 700;
        margin-bottom: 1rem;
    }
    
    .lightbox-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 1050;
        display: none;
        align-items: center;
        justify-content: center;
    }
    
    .lightbox-content {
        max-width: 90vw;
        max-height: 90vh;
        position: relative;
    }
    
    .lightbox-content img {
        width: 100%;
        height: auto;
        border-radius: var(--border-radius);
    }
    
    .lightbox-close {
        position: absolute;
        top: -40px;
        right: 0;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-gallery">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h1 class="display-4 fw-bold mb-4">
                    <i class="fas fa-images me-3"></i>Photo Gallery
                </h1>
                <p class="lead mb-4">
                    Discover the vibrant life of our school through these captured moments of learning, celebration, and achievement
                </p>
                <div class="d-flex justify-content-center gap-3 flex-wrap">
                    <span class="badge bg-light text-dark fs-6 px-3 py-2">
                        <i class="fas fa-camera me-2"></i>School Events
                    </span>
                    <span class="badge bg-light text-dark fs-6 px-3 py-2">
                        <i class="fas fa-trophy me-2"></i>Achievements
                    </span>
                    <span class="badge bg-light text-dark fs-6 px-3 py-2">
                        <i class="fas fa-graduation-cap me-2"></i>Academic Life
                    </span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 mb-4">
                <div class="h2 fw-bold" style="color: var(--primary-blue);">500+</div>
                <p class="mb-0 text-muted">Photos</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="h2 fw-bold" style="color: var(--primary-blue);">15</div>
                <p class="mb-0 text-muted">Albums</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="h2 fw-bold" style="color: var(--primary-blue);">25+</div>
                <p class="mb-0 text-muted">Events Covered</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="h2 fw-bold" style="color: var(--primary-blue);">3</div>
                <p class="mb-0 text-muted">Years Archive</p>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Content -->
<section class="py-5">
    <div class="container">
        <!-- Filter Tabs -->
        <div class="filter-tabs">
            <ul class="nav nav-pills justify-content-center" id="galleryTabs">
                <li class="nav-item">
                    <a class="nav-link active" data-category="all">All Photos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="events">School Events</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="academic">Academic</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="sports">Sports</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="cultural">Cultural</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="achievements">Achievements</a>
                </li>
            </ul>
        </div>

        <!-- Gallery Grid -->
        <div class="row g-4" id="galleryGrid">
            <!-- Event Photos -->
            <div class="col-lg-4 col-md-6 gallery-category-events gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '1.jpg' %}">
                    <img src="{% static '1.jpg' %}" alt="Annual Day Celebration">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Annual Day Celebration 2024</h5>
                            <p>Students performing cultural programs</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-academic gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '2.jpg' %}">
                    <img src="{% static '2.jpg' %}" alt="Science Laboratory">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Science Laboratory</h5>
                            <p>Students conducting experiments</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-sports gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '3.png' %}">
                    <img src="{% static '3.png' %}" alt="Sports Day">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Inter-House Sports Competition</h5>
                            <p>Athletic events and competitions</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-cultural gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '4.png' %}">
                    <img src="{% static '4.png' %}" alt="Cultural Festival">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Saraswati Puja Celebration</h5>
                            <p>Traditional cultural festival</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-achievements gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '5.png' %}">
                    <img src="{% static '5.png' %}" alt="Prize Distribution">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Prize Distribution Ceremony</h5>
                            <p>Recognizing student achievements</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-events gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '6.png' %}">
                    <img src="{% static '6.png' %}" alt="Independence Day">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Independence Day Celebration</h5>
                            <p>Flag hoisting ceremony</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-academic gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '7.png' %}">
                    <img src="{% static '7.png' %}" alt="Library">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>School Library</h5>
                            <p>Students reading and studying</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-cultural gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static '8.png' %}">
                    <img src="{% static '8.png' %}" alt="Dance Performance">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>Classical Dance Performance</h5>
                            <p>Student showcasing traditional dance</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-category-events gallery-category-all">
                <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#lightboxModal" data-image="{% static 'murari-pukur-government-sponsored-higher-secondary-school-ultadanga-main-road-kolkata-senior-secondary-schools-i6hmani5tn.jpg' %}">
                    <img src="{% static 'murari-pukur-government-sponsored-higher-secondary-school-ultadanga-main-road-kolkata-senior-secondary-schools-i6hmani5tn.jpg' %}" alt="School Building">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5>School Building</h5>
                            <p>Main campus building view</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Load More Button -->
        <div class="text-center mt-5">
            <button class="btn btn-primary btn-lg rounded-pill px-5">
                <i class="fas fa-plus me-2"></i>Load More Photos
            </button>
        </div>
    </div>
</section>

<!-- Lightbox Modal -->
<div class="modal fade" id="lightboxModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content bg-transparent border-0">
            <div class="modal-body p-0 position-relative">
                <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" style="z-index: 10;"></button>
                <img id="lightboxImage" src="" alt="" class="w-100 rounded">
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block extra_js %}
<script>
// Gallery filtering functionality
document.addEventListener('DOMContentLoaded', function() {
    const filterLinks = document.querySelectorAll('#galleryTabs .nav-link');
    const galleryItems = document.querySelectorAll('[class*="gallery-category-"]');
    
    filterLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all links
            filterLinks.forEach(l => l.classList.remove('active'));
            
            // Add active class to clicked link
            this.classList.add('active');
            
            const category = this.getAttribute('data-category');
            
            // Show/hide gallery items based on category
            galleryItems.forEach(item => {
                if (category === 'all' || item.classList.contains(`gallery-category-${category}`)) {
                    item.style.display = 'block';
                    // Add fade-in animation
                    item.style.opacity = '0';
                    setTimeout(() => {
                        item.style.opacity = '1';
                    }, 100);
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
    
    // Lightbox functionality
    const lightboxModal = document.getElementById('lightboxModal');
    const lightboxImage = document.getElementById('lightboxImage');
    const galleryItemsClickable = document.querySelectorAll('.gallery-item[data-image]');
    
    galleryItemsClickable.forEach(item => {
        item.addEventListener('click', function() {
            const imageSrc = this.getAttribute('data-image');
            lightboxImage.src = imageSrc;
        });
    });
});
</script>
{% endblock %}
